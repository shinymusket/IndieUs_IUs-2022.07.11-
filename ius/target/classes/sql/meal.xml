<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="meal">

	<select id="all_meal_menu_view" resultType="mealMenuVO">
		SELECT * FROM menu_tbl
	</select>
	
	<select id="allergy_info" resultType="allergyVO">
		SELECT * FROM Allergy_tbl
	</select>
	
	<insert id="insert_meal_menu" parameterType="java.util.Map">
		<foreach collection="list" item="item" open="INSERT ALL" close="SELECT * FROM DUAL">
		INTO menu_tbl(menu_num, staff_num, meal_code, meal_menu, menu_eDate, menu_calorie, allergy_num, menu_wDate)
		VALUES
		(get_menu_seq, 3, 'L',
		#{item.meal_menu}, '2022-07-31', #{item.menu_calorie}, #{item.allergy_num}, sysdate)
		</foreach>
	</insert>
	
	<!--https://kutar37.tistory.com/entry/mybatis-%EB%8B%A4%EC%A4%91-insert  -->
</mapper>